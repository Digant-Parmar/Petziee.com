<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Address</title>
    <!-- Roboto Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700&display=swap">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="../dp/product css/all css/bootstrap.min.css">
    <!-- Material Design Bootstrap -->
    <link rel="stylesheet" href="../dp/product css/all css/mdb-pro.min.css">
    <!-- Material Design Bootstrap Ecommerce -->
    <link rel="stylesheet" href="../dp/product css/all css/mdb.ecommerce.min.css">
    <!-- Your custom styles (optional) -->
    <link rel="stylesheet" href="address.css">




</head>

<body class="skin-light backg">

    <!--Main Navigation-->
    <header>

        <!-- Navbar -->
        <nav class="navbar navbar-expand-md navbar-light fixed-top scrolling-navbar">
            <div class="container-fluid">

                <!-- Brand -->
                <a class="navbar-brand" href="../index.html">
                    <span class="petziee">PETZIEE</span>
                </a>

                <!-- Collapse button -->
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav" aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

                <!-- Links -->
                <div class="collapse navbar-collapse margin-right" id="basicExampleNav">

                    <!-- Right -->
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item" style="display: flex;">
                            <a href="../index.html" class="nav-link navbar-link-2 waves-effect">
                                <i class="fas fa-home"></i>
                            </a>
                            <a href="../cart/cart.html" class="nav-link navbar-link-2 waves-effect">
                                <i class="fas fa-shopping-cart pl-0"></i>
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle waves-effect" id="navbarDropdownMenuLink3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                  Shop
                </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                <a class="dropdown-item" href="#!">Food</a>
                                <a class="dropdown-item" href="#!">Care</a>
                                <a class="dropdown-item" href="#!">Accessories</a>
                                <a class="dropdown-item" href="#!">Clothing</a>
                                <a class="dropdown-item" href="#!">Medicine</a>
                            </div>
                        </li>
                        <!-- <li class="nav-item">
                <a href="#!" class="nav-link waves-effect">
                  Shop
                </a>
              </li> -->
                        <li class="nav-item">
                            <a href="../contact us/contact.html" class="nav-link waves-effect">
                  Contact
                </a>
                        </li>
                        <li class="nav-item">
                            <a href="../login/login.html" class="nav-link waves-effect">
                  Login
                </a>
                        </li>
                        <li class="nav-item pl-2 mb-2 mb-md-0">
                            <!-- <a href="#!" type="button"
                  class="btn btn-outline-info btn-md btn-rounded btn-navbar waves-effect waves-light"><i class="far fa-user"></i></a>
              </li> -->
                            <a href="../login/login.html" class="nav-link waves-effect" style="font-size: 20px;">
                                <i class="far fa-user-circle"></i>
                            </a>
                    </ul>

                </div>
                <!-- Links -->
            </div>
        </nav>
        <!-- Navbar -->

        <div class="jumbotron color-grey-light mt-70">
            <div class="d-flex align-items-center h-100">

            </div>
        </div>

    </header>
    <!--Main Navigation-->

    <!--Main layout-->
    <main>
        <div class="container">

            <!--Grid row-->
            <div class="row d-flex justify-content-center">

                <!--Grid column-->
                <div class="col-md-6">
                    <div class="container text-cen py-5">
                        <h3 class="mb-0">Address</h3>
                    </div>
                    <!--Section: Content-->
                    <section class="mt-4 mb-5">

                        <form action="#!">

                            <div class="form-row">
                                <div class="col">
                                    <div class="md-form md-outline mt-0">
                                        <input type="text" id="firstName" class="form-control">
                                        <label for="materialRegisterFormFirstName">First name</label>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="md-form md-outline mt-0">
                                        <input type="email" id="lastName" class="form-control">
                                        <label for="materialRegisterFormLastName">Last name</label>
                                    </div>
                                </div>
                            </div>

                            <div class="md-form md-outline">
                                <input type="number" id="phone" class="form-control" aria-describedby="materialRegisterFormPhoneHelpBlock">
                                <label for="materialRegisterFormPhone">Phone number</label>
                            </div>

                            <div class="md-form md-outline">
                                <input id="pin" type="number" class="form-control mb-0">
                                <label for="to">Pin code</label>
                                <small id="materialRegisterFormPhoneHelpBlock" class="form-text text-muted mb-3">
                      6-Digit pin-code
                    </small>
                            </div>

                            <div class="md-form md-outline">
                                <input type="text" id="add1" class="form-control" placeholder="Flat, House no., Building, Company, Apartment">
                                <label>Address 1</label>
                            </div>



                            <div class="md-form md-outline mt-3" style="margin-top: 0px !important;">
                                <input type="text" id="add2" class="form-control" placeholder="Area, Colony, Street, Sector, Village">
                                <label>Address 2</label>
                            </div>

                            <div class="md-form md-outline">
                                <input type="text" id="landmark" class="form-control">
                                <label data-error="wrong" data-success="right" for="defaultForm-email1">Landmark</label>
                                <small id="materialRegisterFormPasswordHelpBlock" class="form-text text-muted mb-4">
                        E.g. Near AIIMS Flyover, Behind Regal Cinema, etc.
                      </small>
                            </div>

                            <div class="md-form md-outline mt-0">
                                <input type="text" id="city" class="form-control">
                                <label data-error="wrong" data-success="right" for="defaultForm-email2">Town/City</label>
                            </div>
                            <div class="md-form md-outline mt-0">
                                <input type="text" id="state" class="form-control">
                                <label data-error="wrong" data-success="right" for="defaultForm-email2">State</label>
                            </div>
                            <div class="md-form md-outline mt-0">
                                <input type="email" id="email" class="form-control">
                                <label data-error="wrong" data-success="right" for="defaultForm-pass2">Email</label>
                                <small id="materialRegisterFormPasswordHelpBlock" class="form-text text-muted mb-4">
                      Enter your email                     </small>
                            </div>




                        </form>

                        <!-- <div class="text-center pb-2">
            
                  <div class="form-check pl-0 mb-3">
                    <input type="checkbox" class="form-check-input filled-in" id="new1">
                    <label class="form-check-label small text-uppercase card-link-secondary" for="new1">Subscribe to our newsletter</label>
                  </div>
            
                </div> -->

                        <div class="text-center mb-2">

                            <button type="submit" class="btn btn-primary mb-4" onclick="return addAddress();">Submit</button>

                        </div>



                    </section>
                    <!--Section: Content-->

                </div>
                <!--Grid column-->

            </div>
            <!--Grid row-->


        </div>
    </main>
    <!--Main layout-->

    <!-- Footer -->

    <!-- Footer -->

    <!-- SCRIPTS -->
    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="../dp/product js/js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="../dp/product js/js/bootstrap.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="../dp/product js/js/mdb.min.js"></script>
    <!-- MDB Ecommerce JavaScript -->
    <script type="text/javascript" src="../dp/product js/js/mdb.ecommerce.min.js"></script>
    <script>
    </script>
    <script defer src="/__/firebase/8.9.1/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/8.9.1/firebase-auth.js"></script>
    <script defer src="/__/firebase/8.9.1/firebase-database.js"></script>
    <script defer src="/__/firebase/8.9.1/firebase-firestore.js"></script>
    <script defer src="/__/firebase/8.9.1/firebase-functions.js"></script>
    <script defer src="/__/firebase/8.9.1/firebase-messaging.js"></script>
    <script defer src="/__/firebase/8.9.1/firebase-storage.js"></script>
    <!-- <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase.js"></script> -->
    <!-- <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-functions.js"></script> -->
    <!-- <script src="https://requirejs.org/docs/release/2.3.5/minified/require.js"></script> -->
    <script>
        function initialize() {
            firebase.initializeApp({
                apiKey: "AIzaSyDHBFSULRYjuXw2YRE9lqxki2C_Cc7-s6A",
                authDomain: "petzieee.firebaseapp.com",
                databaseURL: "https://petzieee-default-rtdb.asia-southeast1.firebasedatabase.app",
                projectId: "petzieee",
                storageBucket: "petzieee.appspot.com",
                messagingSenderId: "779568120586",
                appId: "1:779568120586:web:a44924235200039dffb0f3",
                measurementId: "G-801X9K0951"
            })
        }

        document.addEventListener('DOMContentLoaded', initialize);


        async function addAddress() {
            var firstName = document.getElementById("firstName");
            var lastName = document.getElementById("lastName");
            var phone = document.getElementById("phone");
            var pin = document.getElementById("pin");
            var add1 = document.getElementById("add1");
            var add2 = document.getElementById("add2");
            var landmark = document.getElementById("landmark");
            var city = document.getElementById("city");
            var email = document.getElementById("email");
            var state = document.getElementById("state");
            if (firstName.value && lastName.value && phone.value && pin.value && (add1.value || add2.value) &&
                city.value && email.value && state.value) {

                firebase.auth().onAuthStateChanged(async(user) => {
                    db = firebase.firestore();
                    await db.collection("CustomerInfo").doc(user.uid).collection("addresses").doc().set({
                        "firstName": firstName.value,
                        "lastName": lastName.value,
                        "phone": phone.value,
                        "pin": pin.value,
                        "email": email.value,
                        "add1": add1.value + "",
                        "add2": add2.value + "",
                        "landmark": landmark.value + "",
                        "city": city.value,
                        "state": state.value
                    });
                    window.history.go(-1);
                });


            } else {
                if (!firstName.value) {
                    alert("Please enter your First name");
                } else if (!lastName.value) {
                    alert("Please enter your last name");
                } else if (!phone.value) {
                    alert("Please enter your phone number");
                } else if (!pin.value) {
                    alert("Please enter your pin");
                } else if (!(add1.value || add2.value)) {
                    alert("Please enter your address");
                } else if (!city.value) {
                    alert("Please enter your city");
                } else if (!email.value) {
                    alert("Please enter your email address");
                } else if (!state.value) {
                    alert("Please enter your state");
                }

            }
        }
    </script>
</body>

</html>